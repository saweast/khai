
import java.text.NumberFormat;
import java.util.Random;


import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.Shell;
import org.eclipse.swt.widgets.Text;
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.Button;
import org.eclipse.swt.widgets.Label;
import org.eclipse.swt.events.SelectionAdapter;
import org.eclipse.swt.events.SelectionEvent;
import org.eclipse.swt.widgets.Group;
import org.eclipse.swt.widgets.List;




public class form {
	
	private static Text text;
	private static Text text_1;

	/**
	 * Launch the application.
	 * @param args
	 */
	
	public static long factor(int p) {
	    return (p == 1 ? 1 : p * factor(p - 1));
	}
	public static void main(String[] args) {
		Display display = Display.getDefault();
		Shell shell = new Shell();
		shell.setSize(450, 300);
		shell.setText("SWT Application");
		
		Group group = new Group(shell, SWT.NONE);
		group.setText("\u0427\u0430\u0441\u0442\u0438\u043D\u0430 1");
		group.setBounds(10, 10, 127, 91);
		
		Label label_1 = new Label(group, SWT.NONE);
		label_1.setBounds(29, 21, 41, 15);
		label_1.setText("\u0412\u0456\u0434 1 \u0434\u043E");
		
		text = new Text(group, SWT.BORDER);
		text.setBounds(71, 18, 26, 21);
		
		Button btnNewButton = new Button(group, SWT.NONE);
		btnNewButton.setBounds(18, 42, 91, 25);
		btnNewButton.setText("\u041F\u043E\u0440\u0430\u0445\u0443\u0432\u0430\u0442\u0438");
		
		final Label label = new Label(group, SWT.NONE);
		label.setBounds(4, 73, 119, 15);
		
		Group group_1 = new Group(shell, SWT.NONE);
		group_1.setText("\u0427\u0430\u0441\u0442\u0438\u043D\u0430 2");
		group_1.setBounds(146, 10, 106, 110);
		
		final Label label_2 = new Label(group_1, SWT.NONE);
		label_2.setBounds(17, 78, 75, 15);
		
		text_1 = new Text(group_1, SWT.BORDER);
		text_1.setBounds(55, 21, 26, 21);
		
		final List list = new List(shell, SWT.BORDER);
		list.setBounds(10, 144, 106, 107);
		
		final List list_1 = new List(shell, SWT.BORDER);
		list_1.setBounds(146, 144, 106, 107);
		
		Button button = new Button(group_1, SWT.NONE);
		button.addSelectionListener(new SelectionAdapter() {
			public void widgetSelected(SelectionEvent e) {
				int n = Integer.parseInt(text_1.getText());				
				int mas[][] = new int [n][n], i, j;
				String str = "";
				list.removeAll();
				list_1.removeAll();
				for (i = 0; i < n; i++){
					for (j = 0; j < n; j++){
						Random rand = new Random();
						mas[i][j] = rand.nextInt(100);	
						str += String.valueOf(mas[i][j] + " ");
					}
					list.add(str);
					str = "";
				}
				int max = mas[0][0];
				for (i = n - 1; i >= 0; i--) {
					for (j = 0; j < n; j++){
						if (mas[i][j] < max) {
							max = mas[i][j];
						}
						
						str += String.valueOf(mas[i][j] + " ");
					}
					n -= 1;
					list_1.add(str);
					str = "";
				}
			}
		});
		button.setBounds(17, 51, 75, 21);
		button.setText("\u0417\u043D\u0430\u0439\u0442\u0438");
		
		
		
		
		
		
		btnNewButton.addSelectionListener(new SelectionAdapter() {
			public void widgetSelected(SelectionEvent e) {
				
				for (int i = 1; i <= Integer.parseInt(text.getText()); i++){
					double result = 0;
					double f = factor(i);
					double add = 1 / f; 
					result += add;					
					label.setText(String.valueOf(result));
				}
				
			}
		});
		
		

		shell.open();
		shell.layout();
		while (!shell.isDisposed()) {
			if (!display.readAndDispatch()) {
				display.sleep();
			}
		}
	}
}
